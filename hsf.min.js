(function(){"use strict";var HSF,__bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__indexOf=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};window._HSF={get:function(e){return _HSF[e]||null}};HSF=function(){function HSF(e){this.delClassName=__bind(this.delClassName,this);var t,n,r,i,s,o,u,a,f,l,c,h=this;n="ajaxPoolLength"in e?e.ajaxPoolLength:5;for(l=0;0<=n?l<=n:l>=n;0<=n?l++:l--){this._rPool.push({ajax:null,state:0,func:null,err:null})}if("debug"in e&&e.debug===true){this._debug=true}if("counter"in e&&!e.counter){this._counterEnabled=false}if("dateNames"in e){c=e.dateNames;for(i in c){if(!__hasProp.call(c,i))continue;f=c[i];this._dateNames[i]=f}}this._id=this.md5(navigator.userAgent+(new Date).getTime().toString()+Math.random().toString());_HSF[this._id]=this;this.onDomReady(function(){return document.onkeypress=document.onkeydown=function(e){var t,n,r,i,s,o;e=e||window.event;n=true;t=h._keyListMap[e.keyCode]||[];if(t.length){for(i=0,s=t.length;i<s;i++){r=t[i];if(e.ctrlKey===r.ctrl&&e.shiftKey===r.shift&&e.altKey===r.alt){if(e.type.indexOf("keydown")>=0||h._onKeyDowned!==r.func){n=r.func.call(h,e)||false;h._onKeyDowned=r.func}else if(e.type.indexOf("keypress")>=0||h._onKeyDowned===r.func){h._onKeyDowned=null;return true}}}}if((!n||16<=(o=e.keyCode)&&o<=18)&&"preventDefault"in e){e.preventDefault()}return n}});this.onDomReady(function(){h.keyListener("semiColon",function(){return h.printLog()},true);if(typeof h._initIeStorage==="function"){h._initIeStorage()}});if(!Function.prototype.bind){Function.prototype.bind=function(e){var t,n,r,i;if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}t=Array.prototype.slice.call(arguments,1);i=this;r=function(){};n=function(){return i.apply(this instanceof r&&e?this:e,t.take(arguments))};r.prototype=this.prototype;n.prototype=new r;return n}}if(!("trim"in String)){String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}u="test";try{s=u.replace("t","d","g")}catch(p){}if(s!=="desd"){String.prototype.replaceOld=String.prototype.replace;String.prototype.replace=function(e,t,n){if(!n){return this.replaceOld(e,t)}else{return this.replaceOld(new RegExp(e.replaceOld(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),n),typeof t==="string"?t.replaceOld(/\$/g,"$$$$"):t)}}}if(!Array.prototype.forEach){Array.prototype.forEach=function(e,t){for(var n=0,r=this.length;n<r;++n){if(n in this){e.call(t,this[n],n,this)}}}}Array.prototype.take=function(e){for(var t=0,n=this.length,r=e.length;t<r;t++,n++){this[n]=e[t]}return this};Array.prototype.del=function(e){this.splice(e,1);return this};if(!("indexOf"in Array)){Array.prototype.indexOf=function(e,t){var n,r;if(t==null){t=0}r=this.length;n=t>0?t|0:r-(t|0);while(n<r){if(n in this&&this[n]===e){return n}n++}return-1}}if(!window.setImmediate){r={};a=r;t=Math.random()*1e7|0+"";o=function(e){var n;if(e.data!==t){return}r=r.next;n=r.func;delete r.func;return n()};if(window.addEventListener){window.addEventListener("message",o,false)}else{window.attachEvent("onmessage",o)}if(window.postMessage){window.setImmediate=function(e){a=a.next={func:e};window.postMessage(t,"*")}}else{window.setImmediate=function(e){setTimeout(e,0)}}}this.prepareOnDocumentReady()}HSF.prototype._rPool=[];HSF.prototype._counter=0;HSF.prototype._counterEnabled=true;HSF.prototype._browser={version:0,name:""};HSF.prototype._debug=false;HSF.prototype._id="";HSF.prototype._setUniversalStyleCascade={};HSF.prototype._stylePrefixes=["","o","ms","moz","webkit"];HSF.prototype._onResizeCollection=[];HSF.prototype._onResizeArray=[];HSF.prototype._startLogDate=(new Date).getTime();HSF.prototype._stackLog=[];HSF.prototype._keyMap={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pauseBreak:19,capsLock:20,escape:27,esc:27,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWinKey:91,rightWinKey:92,selectKey:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semiColon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backSlash:220,closeBraket:221,singleQuote:222};HSF.prototype._keyListMap=[];HSF.prototype._funcDomReady="";HSF.prototype._onKeyDowned=null;HSF.prototype._dateNames={monthShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],monthFull:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],weekShort:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],weekFull:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"]};HSF.prototype._scrollBarWidth=-1;HSF.prototype._ready=false;HSF.prototype._defaultLoader="img/loader.gif";HSF.prototype._storage=null;HSF.prototype._scriptPath="";HSF.prototype._CSSCache=null;HSF.prototype._systemStyleSheet=null;HSF.prototype.getThis=function(){return"_HSF.get('"+this._id+"')"};HSF.prototype.GBI=function(e){return document.getElementById(e)};HSF.prototype.GBC=function(e,t){if(t==null){t=document}if("getElementsByClassName"in t){return t.getElementsByClassName(e)}else{return function(e,t){var n,r,i,s,o,u;n=[];r=t.getElementsByTagName("*");i=r.length;u=new RegExp("(^|\\s)"+e+"(\\s|$)");s=0;o=0;while(s<i){if(u.test(r[s].className)){n[o]=r[s];o++}s++}return n}(e,t)}};HSF.prototype.GBT=function(e,t){if(t==null){t=document}return t.getElementsByTagName(e)};HSF.prototype.openWin=function(e,t,n,r,i,s){var o,u,a,f,l,c,h,p,d,v,m=this;if(n==null){n=902}if(r==null){r=700}if(i==null){i={}}f={resizable:1,scrollbars:1,menubar:0,toolbar:0,status:1};try{u=(screen.availWidth||screen.width)/2-n/2+(screen.availLeft||0);c=(screen.availHeight||screen.height)/2-r/2+(screen.availTop||0);a="width="+n+",height="+r+",left="+u+", top="+c;v=["resizable","scrollbars","menubar","toolbar","status"];for(p=0,d=v.length;p<d;p++){l=v[p];a+=","+l+"="+(l in i?i[l]?1:0:f[l])}h=window.open(e,t,a);h.activated=false;h.onfocus=function(){if(h.activated){return}h.activated=true;if(typeof s==="function"){s(h)}else{m.log("success win open")}return true};h.blocked=!!h.document.getElementById;if(h){h.onfocus()}}catch(g){o=g;alert("Ошибка открытия окна - "+t)}return h||false};HSF.prototype.getSelection=function(e){var t,n,r,i,s,o,u;o=0;t=0;if(typeof e.selectionStart==="number"&&typeof e.selectionEnd==="number"){o=e.selectionStart;t=e.selectionEnd}else{s=document.selection.createRange();if(s&&s.parentElement()===e){r=e.value.length;i=e.value.replace(/\r\n/g,"\n");u=e.createTextRange();u.moveToBookmark(s.getBookmark());n=e.createTextRange();n.collapse(false);if(u.compareEndPoints("StartToEnd",n)>-1){o=t=r}else{o=-u.moveStart("character",-r);o+=i.slice(0,o).split("\n").length-1;if(u.compareEndPoints("EndToEnd",n)>-1){t=r}else{t=-u.moveEnd("character",-r);t+=i.slice(0,t).split("\n").length-1}}}}return{start:o,end:t}};HSF.prototype.getPos=function(e,t){var n,r,i,s,o,u,a,f,l,c;if(t==null){t=document.body}if(!this.hasElement(t,e)){return false}a={x:0,y:0};if("getBoundingClientRect"in e&&t===document.body){r=e.getBoundingClientRect();n=document.body;o=document.documentElement;l=window.pageYOffset||o.scrollTop||n.scrollTop;f=window.pageXOffset||o.scrollLeft||n.scrollLeft;s=o.clientTop||n.clientTop||0;i=o.clientLeft||n.clientLeft||0;c=r.top+l-s;u=r.left+f-i;a.x=Math.round(u);a.y=Math.round(c)}else if(t===document.body){if(!e.offsetParent){a.x+=e.offsetLeft;a.y+=e.offsetTop}while(e.offsetParent){a.x+=e.offsetLeft;a.y+=e.offsetTop;e=e.offsetParent}}else{while(!this.hasElement(e.offsetParent,t)){a.x+=e.offsetLeft;a.y+=e.offsetTop;e=e.offsetParent;if(!e){return a}}if(e.offsetParent!==t){a.x+=e.offsetLeft-t.offsetLeft;a.y+=e.offsetTop-t.offsetTop}else{a.x+=e.offsetLeft;a.y+=e.offsetTop}}return a};HSF.prototype.getMousePos=function(e){var t,n;if(!e){throw new Error("event is empty")}t=0;n=0;if(e.pageX||e.pageY){t=e.pageX;n=e.pageY}else if(e.clientX||e.clientY){t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop}return{x:t,y:n}};HSF.prototype.GMP=HSF.getMousePos;HSF.prototype.getScreenPos=function(e){var t,n,r,i,s,o,u,a;o={x:0,y:0};if("getBoundingClientRect"in e){n=e.getBoundingClientRect();o.x=Math.round(n.left);o.y=Math.round(n.top)}else{n=this.getPos(e);t=document.body;s=document.documentElement;a=window.pageYOffset||s.scrollTop||t.scrollTop;u=window.pageXOffset||s.scrollLeft||t.scrollLeft;i=s.clientTop||t.clientTop||0;r=s.clientLeft||t.clientLeft||0;o.x=n.x+r-u;o.y=n.y+i-a}return o};HSF.prototype.getSize=function(){var e;e={w:0,h:0,s:0,sl:0,sw:0,sh:0};if(self.innerHeight){e.w=window.innerWidth;e.h=window.innerHeight;e.s=window.pageYOffset;e.sl=window.pageXOffset}else if(document.documentElement&&document.documentElement.clientHeight){e.w=document.documentElement.clientWidth;e.h=document.documentElement.clientHeight;e.s=document.documentElement.scrollTop;e.sl=document.documentElement.scrollLeft}else if(document.body){e.w=document.body.clientWidth;e.h=document.body.clientHeight;e.s=document.body.scrollTop;e.sl=document.body.scrollLeft}if(window.innerHeight&&window.scrollMaxY){e.sw=document.body.scrollWidth;e.sh=window.innerHeight+window.scrollMaxY}else if(document.body.scrollHeight>document.body.offsetHeight){e.sw=document.body.scrollWidth;e.sh=document.body.scrollHeight}else{e.sw=document.body.offsetWidth;e.sh=document.body.offsetHeight}return e};HSF.prototype.getStyle=function(e,t){var n;if(this.browser().name==="msie"){if(t in e.currentStyle){return e.currentStyle[t]}return""}n=window.getComputedStyle(e,null);if(n[t]!=null){return n[t]}return""};HSF.prototype.setStyle=function(e,t){var n,r;switch(typeof t){case"string":e.style.cssText+=";"+t;break;case"object":for(n in t){r=t[n];e.style[n]=r}break}return this};HSF.prototype.getIndexElement=function(e,t){if(t==null){t=false}if(t===true){return[].take(e.parentNode.childNodes).indexOf(e)}else{return[].take(e.parentNode.children).indexOf(e)}};HSF.prototype.browser=function(){var e,t,n,r,i;if(this._browser.version!==0){return this._browser}t=window.navigator;e=/Chrome\/([\d\.]+)/;e=t.userAgent.search(e);n=/Safari\/([\d\.]+)/;n=t.userAgent.search(n);r=0;i=0;if(t.appName==="Microsoft Internet Explorer"){this._browser.name="msie";r=t.appVersion.indexOf("MSIE")+5;i=t.appVersion.substring(r,t.appVersion.indexOf(";",r)-1);this._browser.version=parseFloat(i)}else if(e!==-1){this._browser.name="chrome";r=t.appVersion.indexOf("Chrome")+7;i=t.appVersion.substring(r,t.appVersion.indexOf(" ",r)-1);this._browser.version=parseFloat(i)}else if(t.appName==="Opera"){this._browser.name="opera";r=t.userAgent.indexOf("Version")+8;i=t.userAgent.substring(r,t.userAgent.length);this._browser.version=parseFloat(i)}else if(n!==-1){this._browser.name="safari";r=t.userAgent.indexOf("Version")+8;i=t.userAgent.substring(r,t.userAgent.indexOf(" ",r)-1);this._browser.version=parseFloat(i)}else if(t.appName==="Netscape"&&t.appCodeName==="Mozilla"&&t.userAgent.indexOf("Firefox")!==-1){this._browser.name="mozilla";r=t.userAgent.indexOf("Firefox")+8;i=t.userAgent.substr(r);this._browser.version=parseFloat(i)}else{this._browser.name=t.userAgent;this._browser.version=parseFloat(t.appVersion)}return this._browser};HSF.prototype.setMem=function(e,t,n,r){if(r==null){r="HSF"}if(r){if(!(r in e)){e[r]={}}e[r][t]=n}else{e[t]=n}return this};HSF.prototype.getMem=function(e,t,n){if(n==null){n="HSF"}if(n in e){if(t in e[n]){return e[n][t]}}else if(!n){if(t in e){return e[t]}}return null};HSF.prototype.getMemList=function(e,t){if(t==null){t="HSF"}if(!t){return{}}return e[t]};HSF.prototype.clearMem=function(e,t){if(t==null){t="HSF"}if(!t){return false}e[t]={};return true};HSF.prototype.toSource=function(e){var t,n,r;if("toSource"in e){return e.toSource()}n="{\n";for(t in e){if(!__hasProp.call(e,t))continue;r=e[t];n+="  "+t+": "+r+"\n"}return n+"\n}"};HSF.prototype.toInt=function(e){if(typeof e==="boolean"){return+e}return parseInt(e)|0};HSF.prototype.mLog=function(e,t){if(t==null){t=Math.E}return 1e3*Math.log(e)/(1e3*Math.log(t))};HSF.prototype.buttonClick=function(e,t,n){var r,i,s=this;if(n==null){n={}}r=function(){s.setTempStyle(e,t,"Click");s.addEvent(e,"mouseout",i);if("down"in n){n.down(e)}return true};i=function(){s.retTempStyle(e,"Click");s.removeEvent(e,"mouseout",i);if("up"in n){n.up(e)}return true};this.addEvent(e,"mouseup",i);this.addEvent(e,"mousedown",r);if(n.activate===true){e.onmousedown()}return this};HSF.prototype.hover=function(e,t,n){var r,i,s=this;if(n==null){n={}}i=function(r){var i;r=r||window.event;i=r.toElement||document.body;if(r.type!=="mouseenter"&&s.hasElement(e,i)&&s.getMem(e,"hover")){return true}s.setTempStyle(e,t,"Hover");if("over"in n){n.over(e)}s.setMem(e,"hover",true);return true};r=function(t){var r;t=t||window.event;r=t.toElement||document.body;if(t.type!=="mouseleave"&&s.hasElement(e,r)&&e!==r){return true}s.retTempStyle(e,"Hover");if("out"in n){n.out(e)}s.setMem(e,"hover",false);return true};if(this.browser().name==="msie"){e.attachEvent("onmouseenter",i);e.attachEvent("onmouseleave",r);if(n.activate===true){i({toElement:e})}}else{if("onmouseenter"in e){e.addEventListener("mouseenter",i,false);e.addEventListener("mouseleave",r,false);if(n.activate===true){i({toElement:e})}}else{e.addEventListener("mouseover",i,false);e.addEventListener("mouseout",r,false);if(n.activate===true){i({toElement:e})}}}return this};HSF.prototype.setTempStyle=function(e,t,n){var r,i,s,o;s=this.getMem(e,"touch");if(!s){i="originStyle";s=["oldStyle"+n]}else{i=s[s.length-1];s.push("oldStyle"+n)}for(r in t){if(!__hasProp.call(t,r))continue;o=t[r];if(r in e.style){this.setMem(e,r,e.style[r],i).setMem(e,r,o,"oldStyle"+n);e.style[r]=o}}return this.setMem(e,"touch",s)};HSF.prototype.retTempStyle=function(e,t){var n,r,i,s,o,u,a,l;o=this.getMemList(e,"oldStyle"+t);if(!o){return this}u=this.getMem(e,"touch");if(!u){return this}n=u.indexOf("oldStyle"+t);if(n<0){f.log("Error: retTempStyle: index tempStyle is -1");return this}i=n>0?u[n-1]:"originStyle";s=this.getMemList(e,i);for(r in o){if(r in s){e.style[r]=s[r]}else{s[r]=o[r]}}u.del(n);if(n!==u.length){while(n<u.length){l=this.getMemList(e,u[n]);for(r in l){a=l[r];e.style[r]=a}n++}}if(u.length===0){u=null}return this.setMem(e,"touch",u)};HSF.prototype.addEvent=function(e,t,n){var r,i,s,o,u,a,f,l,c=this;t=t.replace(/^on/,"");if("addEventListener"in e){e.addEventListener(t,n,false)}else{l="on"+t;if(!(l in e)&&t!=="hashchange"){return false}if(t==="hashchange"&&"location"in e){u=false;r=this._browser.version;switch(this._browser.name){case"msie":if(document.documentMode<8){u=true}break;case"mozilla":if(r<3.6){u=true}break;case"chrome":case"safari":if(r<5){u=true}break;case"opera":if(r<10.6){u=true}break;default:u=true}if(u){e.onhashchange=null;a=e.location.hash;f=e.location.href;window.setInterval(function(){try{if(e.location.hash!==a){a=e.location.hash;f=e.location.href;if(typeof e.onhashchange==="function"){return e.onhashchange.call(e,{target:e,timestamp:(new Date).getTime(),oldURL:f,newURL:e.location.hash})}}}catch(t){}},42)}}o=function(n){var r,i,s;n=n||window.event;n.target=n.target||n.srcElement;s=c.getMem(e,t,"eventsListener");for(r=0,i=s.length;r<i;r++){o=s[r];o.call(e,n)}return true};if(l in e&&!e[l]){this.setMem(e,t,[n],"eventsListener");e[l]=o}else{if(!this.getMem(e,t,"eventsListener")){s=e[l];this.setMem(e,t,[s],"eventsListener");e[l]=o}this.getMem(e,t,"eventsListener").push(n)}}if(this._debug===true){i=this.getMem(e,t,"eventListenerCollect");if(i===null){this.setMem(e,t,[{fn:n,enable:true}],"eventListenerCollect")}else{i.push({fn:n,enable:true})}}return function(){return c.removeEvent(e,t,n)}};HSF.prototype.removeEvent=function(e,t,n){var r,i,s,o,u,a,f,l,c;t=t.replace(/^on/,"");if(e.addEventListener){e.removeEventListener(t,n,false)}else{i=this.getMem(e,t,"eventsListener");o=[];for(a=0,l=i.length;a<l;a++){u=i[a];if(u!==n){o.push(u)}}this.setMem(e,t,o,"eventsListener")}if(this._debug===true){r=this.getMem(e,t,"eventListenerCollect");for(f=0,c=r.length;f<c;f++){s=r[f];if(s.fn===n){s.enable=false}}}return true};HSF.prototype.load=function(e,t,n,r){var i,s,o,u,a,f,l,c,h,p=this;if(typeof e==="object"){if("scs"in e){t=e.scs}if("success"in e){t=erl.success}if("err"in e){n=e.err}if("error"in e){n=e.error}if("data"in e){r=e.data}if("method"in e){c=e.method}if("header"in e){a=e.header}e=e.url}else if(typeof n==="object"){r=n}i=-1;f=0;u="";while(f<this._rPool.length){if(this._rPool[f]["state"]===0){i=f;this._rPool[f]["state"]=1;break}f++}if(i<0){i=this._rPool.length;this._rPool[i]={ajax:null,state:1,func:null,err:null}}if(!this._rPool[i].ajax){this._rPool[i].ajax=null;if(this._debug){if("XMLHttpRequest"in window){try{this._rPool[i].ajax=new XMLHttpRequest}catch(d){o=d;u+="Cant't create XMLHttpRequest object, but XMLHttpRequest exists. Error: "+o.message;this.log(o.message)}}else if(window.ActiveXObject){try{this._rPool[i].ajax=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){o=d;try{this._rPool[i].ajax=new ActiveXObject("Microsoft.XMLHTTP")}catch(d){o=d;u+="Cant't create ActiveXObject object, but ActiveXObject exists. Error: "+o.message;this.log(o.message)}}}}else{this._rPool[i].ajax="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}this._rPool[i].ajax.onreadystatechange=function(){var e;e={};var e=this;try{if(e.readyState===4){i=e["active"];if(e.status===200||e.status===0&&e.responseText.length>0){p._rPool[i].func(e.responseText,e.getAllResponseHeaders())}else{p._rPool[i].err(e.statusText)}p._rPool[i].state=0}}catch(t){o=t;p.log(o.message+"\n"+o.toSource())}return true}}else if(u!==""){this._rPool[i]["state"]=0;return u}if(this._rPool[i].ajax){this._rPool[i].func=t;this._rPool[i].err=n?n:function(){return true};this._rPool[i].ajax["active"]=i;this._rPool[i].state=1;if(r==null){s=this._counterEnabled?(e.indexOf("?")>0?"&":"?")+"cOuNtEr="+this._counter++:"";this._rPool[i].ajax.open(c||"GET",e+s,true);if(a){for(l in a){h=a[l];this._rPool[i].ajax.setRequestHeader(l,h)}}this._rPool[i].ajax.send(null)}else{this._rPool[i].ajax.open(c||"POST",e,true);this._rPool[i].ajax.setRequestHeader("Content-length",r.length);this._rPool[i].ajax.setRequestHeader("Content-type","application/x-www-form-urlencoded");if(a){for(l in a){h=a[l];this._rPool[i].ajax.setRequestHeader(l,h)}}this._rPool[i].ajax.send(r)}return this._rPool[i].ajax}return u||"err"};HSF.prototype.createBubble=function(e,t,n,r){var i,s,o,u,a,l,c,h,p,d,v,m,g,y,b,w=this;if(t==null){t=300}if(n==null){n=200}if(r==null){r={}}if(!e){return false}this.closeBubble();a=this.GBI("bubbleItem");l=null;g=this.getSize();if(!a){u=document.body.children;y=10;p=0;this.setCSS(".bubbleItem",{"background-color":"white","font-family":'Verdana, "Geneva CY", "DejaVu Sans", sans-serif',"font-size":"80%"}).setCSS(".bubbleItem .closeBtn",{cursor:"pointer","float":"right",width:"12px"}).setCSS(".bubbleItem .bubbleContainer",{margin:"19px 10px 0","text-align":"left"}).setCSS(".bubbleItem .alertBubble",{overflow:"hidden"}).setCSS(".bubbleItem .alertBubble > button[onclick]",{"float":"right","margin-right":"10px","margin-top":"10px"});s=this.createElement("#bubbleBG",{style:{display:"block",position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:y,backgroundColor:"#ccc",opacity:"0.5"}},document.body);while(p<u.length){i=u[p];if(i!=null){b=this.toInt(this.getStyle(i,"zIndex"))}else{b=0}if(b>y){y=b+1}p++}s.style.zIndex=y;a=this.createElement("#bubbleItem.bubbleItem",{style:{position:"fixed"},close:function(){var e;s.style.display="none";a.style.display="none";l.innerHTML="";e=w.getMem(a,"func");if(e!==null){e();return w.setMem(a,"func",null)}}},document.body);a.style.zIndex=y+1;c=this.createElement(".closeBtn",{innerHTML:"X",onclick:a.close},a);s.onclick=a.close;l=this.createElement(".bubbleContainer",{},a);this.setOnResize(s,function(){var e,t;a=w.GBI("bubbleItem");g=w.getSize();e=(g.w-parseInt(a.style.width))/2;t=(g.h-parseInt(a.style.height))/2;if(e<0){e=0}else{e+="px"}if(t<0){t=0}else{t+="px"}a.style.left=e;return a.style.top=t});this.keyListener("esc",function(){return w.closeBubble()})}a.style.width=t+"px";a.style.height=n+"px";v=(g.w-t)/2;m=(g.h-n)/2;if(v<0){v=0}else{v+="px"}if(m<0){m=0}else{m+="px"}a.style.left=v;a.style.top=m;if(l===null){l=a.getElementsByTagName("div")[1]}l.style.overflowY="";if(typeof e==="string"){l.innerHTML=e}else if(typeof e==="object"&&"nodeType"in e){l.innerHTML="";l.appendChild(e)}else{return false}a.style.display="block";s=this.GBI("bubbleBG");s.style.display="block";if("close"in r){this.setMem(a,"func",r.close)}else{this.setMem(a,"func",null)}if("loader"in r&&r.loader){this.setTempStyle(f.GBC("closeBtn",a)[0],{display:"none"},"loader");d=f.GBT("img",a)[0];a.style.left=g.w/2-d.offsetWidth+"px";a.style.top=g.h/2-d.offsetHeight+"px";f.GBI("bubbleBG").onclick=null;f.setMem(a,"flagLoader",true)}else if(f.getMem(a,"flagLoader")){this.retTempStyle(f.GBC("closeBtn",a)[0],"loader");f.GBI("bubbleBG").onclick=a.close;f.setMem(a,"flagLoader",false)}if("resize"in r&&r.resize){o=s.offsetHeight;if(l.children[0].offsetHeight+a.children[0].offsetHeight>a.offsetHeight){if(l.children[0].offsetHeight<o-20){h=l.children[0].offsetHeight+a.children[0].offsetHeight+20;n=h>n?h:n;a.style.top=""+(g.h-n)/2+"px";a.style.height=n+"px"}else{a.style.height=""+(o-20)+"px";a.style.top="10px";l.style.overflowY="scroll"}}}return this};HSF.prototype.closeBubble=function(){if(this.GBI("bubbleItem")){this.GBI("bubbleItem").close()}return this};HSF.prototype.getBubble=function(){return this.GBI("bubbleItem")||null};HSF.prototype.createLoaderBubble=function(e){if(e==null){e=this._defaultLoader}return this.createBubble("<div style='text-align:center;margin-top:50px;'><img src='"+e+"' alt='ajax-loader'/></div>",0,0,{loader:true})};HSF.prototype.createAlertBubble=function(e,t){if(t==null){t={}}t.resize=true;return this.createBubble('<div class="alertBubble"><span>'+e+'</span><button onclick="'+this.getThis()+'.closeBubble();">Ok</button></div>',400,60,t)};HSF.prototype.md5=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I;v=function(e,t){return e<<t|e>>>32-t};n=function(e,t){var n,r,i,s,o;i=e&2147483648;o=t&2147483648;r=e&1073741824;s=t&1073741824;n=(e&1073741823)+(t&1073741823);if(r&s){return n^2147483648^i^o}if(r|s){if(n&1073741824){return n^3221225472^i^o}else{return n^1073741824^i^o}}else{return n^i^o}};u=function(e,t,n){return e&t|~e&n};f=function(e,t,n){return e&n|t&~n};c=function(e,t,n){return e^t^n};p=function(e,t,n){return t^(e|~n)};a=function(e,t,r,i,s,o,a){e=n(e,n(n(u(t,r,i),s),a));return n(v(e,o),t)};l=function(e,t,r,i,s,o,u){e=n(e,n(n(f(t,r,i),s),u));return n(v(e,o),t)};h=function(e,t,r,i,s,o,u){e=n(e,n(n(c(t,r,i),s),u));return n(v(e,o),t)};d=function(e,t,r,i,s,o,u){e=n(e,n(n(p(t,r,i),s),u));return n(v(e,o),t)};s=function(e){var t,n,r,i,s,o,u,a;r=e.length;s=r+8;o=(s-s%64)/64;i=(o+1)*16;u=new Array(i-1);n=0;t=0;while(t<r){a=(t-t%4)/4;n=t%4*8;u[a]=u[a]|e.charCodeAt(t)<<n;t++}a=(t-t%4)/4;n=t%4*8;u[a]=u[a]|128<<n;u[i-2]=r<<3;u[i-1]=r>>>29;return u};_=function(e){var t,n,r,i;t="";n="";i=0;while(i<=3){r=e>>>i*8&255;n="0"+r.toString(16);t=t+n.substr(n.length-2,2);i++}return t};m=7;g=12;y=17;b=22;w=5;E=9;S=14;x=20;T=4;N=11;C=16;k=23;L=6;A=10;O=15;M=21;e=this.utf8_encode(e);I=s(e);D=1732584193;P=4023233417;H=2562383102;B=271733878;j=0;while(j<I.length){t=D;r=P;i=H;o=B;D=a(D,P,H,B,I[j+0],m,3614090360);B=a(B,D,P,H,I[j+1],g,3905402710);H=a(H,B,D,P,I[j+2],y,606105819);P=a(P,H,B,D,I[j+3],b,3250441966);D=a(D,P,H,B,I[j+4],m,4118548399);B=a(B,D,P,H,I[j+5],g,1200080426);H=a(H,B,D,P,I[j+6],y,2821735955);P=a(P,H,B,D,I[j+7],b,4249261313);D=a(D,P,H,B,I[j+8],m,1770035416);B=a(B,D,P,H,I[j+9],g,2336552879);H=a(H,B,D,P,I[j+10],y,4294925233);P=a(P,H,B,D,I[j+11],b,2304563134);D=a(D,P,H,B,I[j+12],m,1804603682);B=a(B,D,P,H,I[j+13],g,4254626195);H=a(H,B,D,P,I[j+14],y,2792965006);P=a(P,H,B,D,I[j+15],b,1236535329);D=l(D,P,H,B,I[j+1],w,4129170786);B=l(B,D,P,H,I[j+6],E,3225465664);H=l(H,B,D,P,I[j+11],S,643717713);P=l(P,H,B,D,I[j+0],x,3921069994);D=l(D,P,H,B,I[j+5],w,3593408605);B=l(B,D,P,H,I[j+10],E,38016083);H=l(H,B,D,P,I[j+15],S,3634488961);P=l(P,H,B,D,I[j+4],x,3889429448);D=l(D,P,H,B,I[j+9],w,568446438);B=l(B,D,P,H,I[j+14],E,3275163606);H=l(H,B,D,P,I[j+3],S,4107603335);P=l(P,H,B,D,I[j+8],x,1163531501);D=l(D,P,H,B,I[j+13],w,2850285829);B=l(B,D,P,H,I[j+2],E,4243563512);H=l(H,B,D,P,I[j+7],S,1735328473);P=l(P,H,B,D,I[j+12],x,2368359562);D=h(D,P,H,B,I[j+5],T,4294588738);B=h(B,D,P,H,I[j+8],N,2272392833);H=h(H,B,D,P,I[j+11],C,1839030562);P=h(P,H,B,D,I[j+14],k,4259657740);D=h(D,P,H,B,I[j+1],T,2763975236);B=h(B,D,P,H,I[j+4],N,1272893353);H=h(H,B,D,P,I[j+7],C,4139469664);P=h(P,H,B,D,I[j+10],k,3200236656);D=h(D,P,H,B,I[j+13],T,681279174);B=h(B,D,P,H,I[j+0],N,3936430074);H=h(H,B,D,P,I[j+3],C,3572445317);P=h(P,H,B,D,I[j+6],k,76029189);D=h(D,P,H,B,I[j+9],T,3654602809);B=h(B,D,P,H,I[j+12],N,3873151461);H=h(H,B,D,P,I[j+15],C,530742520);P=h(P,H,B,D,I[j+2],k,3299628645);D=d(D,P,H,B,I[j+0],L,4096336452);B=d(B,D,P,H,I[j+7],A,1126891415);H=d(H,B,D,P,I[j+14],O,2878612391);P=d(P,H,B,D,I[j+5],M,4237533241);D=d(D,P,H,B,I[j+12],L,1700485571);B=d(B,D,P,H,I[j+3],A,2399980690);H=d(H,B,D,P,I[j+10],O,4293915773);P=d(P,H,B,D,I[j+1],M,2240044497);D=d(D,P,H,B,I[j+8],L,1873313359);B=d(B,D,P,H,I[j+15],A,4264355552);H=d(H,B,D,P,I[j+6],O,2734768916);P=d(P,H,B,D,I[j+13],M,1309151649);D=d(D,P,H,B,I[j+4],L,4149444226);B=d(B,D,P,H,I[j+11],A,3174756917);H=d(H,B,D,P,I[j+2],O,718787259);P=d(P,H,B,D,I[j+9],M,3951481745);D=n(D,t);P=n(P,r);H=n(H,i);B=n(B,o);j+=16}F=_(D)+_(P)+_(H)+_(B);return F.toLowerCase()};HSF.prototype.utf8_encode=function(e){var t,n,r;e=e.replace(/\r\n/g,"\n");r="";n=0;while(n<e.length){t=e.charCodeAt(n);if(t<128){r+=String.fromCharCode(t)}else if(t>127&&t<2048){r+=String.fromCharCode(t>>6|192);r+=String.fromCharCode(t&63|128)}else{r+=String.fromCharCode(t>>12|224);r+=String.fromCharCode(t>>6&63|128);r+=String.fromCharCode(t&63|128)}n++}return r};HSF.prototype.createElement=function(e,t,n){var r,i,s,o,u,a;if(t==null){t={}}if(/^\w+$/.test(e)){r=document.createElement(e)}else{s=e.match(/^(\w+)?(#(.*?))?(\.(.*))?$/);o=s[1]||"div";r=document.createElement(o);if(typeof s[3]==="string"){r.id=s[3]}if(typeof s[5]==="string"){r.className=s[5].replace(/[\.\s]/," ")}}if("style"in t){a=t.style;for(i in a){if(!__hasProp.call(a,i))continue;u=a[i];r.style[i]=u}delete t.style}for(i in t){if(!__hasProp.call(t,i))continue;u=t[i];r[i]=u}if(n){n.appendChild(r)}return r};HSF.prototype.appendChild=function(e,t){var n,r,i,s;if(typeof t==="string"){n=document.createElement("div");n.innerHTML=t;r=[];i=0;s=n.childNodes.length;t=[];while(i<s){t[t.length]=n.childNodes[0];e.appendChild(n.childNodes[0]);i++}n=null;return t}else if(typeof t==="object"&&"nodeType"in t){e.appendChild(t)}else{throw new Error("el must be string or element")}return[t]};HSF.prototype.removeElement=function(e){e.parentNode.removeChild(e);return this};HSF.prototype.replaceElement=function(e,t){e.parentNode.replaceChild(t,e);return this};HSF.prototype.clearElement=function(e){var t,n;t=e.childNodes;n=t.length;while(n--){e.removeChild(t[n]);delete t[n]}return this};HSF.prototype.setUniversalStyle=function(e,t,n){var r,i,s,o,u,a,f,l;t=t.toLowerCase();if(!(t in this._setUniversalStyleCascade)){this._setUniversalStyleCascade[t]=[];for(i in e.style){if(typeof i==="string"){r=i.toLowerCase().indexOf(t);if(r>=0&&r+t.length===i.length&&(f=i.substr(0,r).toLowerCase(),__indexOf.call(this._stylePrefixes,f)>=0)){this._setUniversalStyleCascade[t].push(i)}}}if(this.browser().name==="safari"){if(t in e.style){this._setUniversalStyleCascade[t].push(t)}o="webkit"+t.substr(0,1).toUpperCase()+t.substr(1);if(o in e.style){this._setUniversalStyleCascade[t].push(o)}}}l=this._setUniversalStyleCascade[t];for(u=0,a=l.length;u<a;u++){s=l[u];try{e.style[s]=n}catch(c){}}return true};HSF.prototype.hasElement=function(e,t){var n,r;if(e===t){return true}r=t.parentNode;if(!r||!r.parentNode){return false}n=document.getElementsByTagName("html")[0];while(r!==e){if(r===n||r.parentNode===n){return false}r=r.parentNode}return true};HSF.prototype.oSize=function(e){var t,n;if("keys"in Object){return Object.keys(e).length}n=0;for(t in e){if(!__hasProp.call(e,t))continue;n++}return n};HSF.prototype.oKeys=function(e){var t,n;if("keys"in Object){return Object.keys(e)}n=[];for(t in e){if(!__hasProp.call(e,t))continue;n[n.length]=t}return n};HSF.prototype.setOnResize=function(e,t){var n,r,i=this;r=this.getMem(e,"resizePos");if(r!==null){n=this._onResizeCollection[r];if(t){n.func=t}if(n.type===1){n.action=this.addEvent(e,"resize",n.func)}else{this._onResizeArray[this._onResizeArray.length]=r}return r}r=this._onResizeCollection.length;if("onresize"in e){this._onResizeCollection[r]={el:e,func:t,type:1,action:this.addEvent(e,"resize",t)};return r}if(typeof e!=="object"){return-1}if(!("nodeType"in e)){return-1}this._onResizeCollection[r]={el:e,func:t,type:0,action:null};this._onResizeArray[this._onResizeArray.length]=r;this.setMem(e,"ow",e.offsetWidth);this.setMem(e,"oh",e.offsetHeight);this.setMem(e,"resizePos",r);window.setInterval(function(){return i.resizeObjects()},42);return r};HSF.prototype.resizeObjects=function(){var e,t,n,r,i,s,o;o=this._onResizeArray;for(i=0,s=o.length;i<s;i++){r=o[i];e=this._onResizeCollection[r];n=this.getMem(e.el,"ow");t=this.getMem(e.el,"oh");if(n!==e.el.offsetWidth||t!==e.el.offsetHeight){this.setMem(e.el,"ow",e.el.offsetWidth);this.setMem(e.el,"oh",e.el.offsetHeight);e.func.call(e.el,r)}}return true};HSF.prototype.offOnResize=function(e){var t,n,r,i,s,o;t=this._onResizeCollection[e];if(t.type===1){t.action()}else{if(__indexOf.call(this._onResizeArray,e)<0){return t}n=[];o=this._onResizeArray;for(i=0,s=o.length;i<s;i++){r=o[i];if(e!==r){n[n.length]=r}}this._onResizeArray=n}return t};HSF.prototype.addClassName=function(e,t){if(!this.hasClassName(e,t)){e.className+=" "+t.trim()}return this};HSF.prototype.hasClassName=function(e,t){return!((" "+e.className+" ").indexOf(" "+t.trim()+" ")<0)};HSF.prototype.removeClassName=function(e,t){if(this.hasClassName(e,t)){e.className=(" "+e.className+" ").replace(" "+t.trim()+" "," ").trim()}return this};HSF.prototype.delClassName=function(e,t){return this.removeClassName(e,t)};HSF.prototype.GPT=function(e,t){var n;t=t.toLowerCase();if(t==="html"||t==="body"){return document.getElementsByTagName(t)[0]||null}if(!e||!e.parentNode){return null}while((e!=null?(n=e.parentNode)!=null?n.tagName:void 0:void 0)!=null&&e.parentNode.tagName.toLowerCase()!==t&&e.parentNode.tagName.toLowerCase()!=="html"){e=e.parentNode}if(!("parentNode"in e)||e.tagName.toLowerCase()==="html"||e.parentNode.tagName.toLowerCase()==="html"){return null}return e.parentNode};HSF.prototype.GPC=function(e,t){if(!e){return null}while(e&&e.parentNode){e=e.parentNode;if(this.hasClassName(e,t)){return e}}return null};HSF.prototype.truncateStringMin=function(e,t,n){if(n==null){n="..."}if(t<e.length){return e.substr(0,t-n.length)+n}return e};HSF.prototype.truncateString=function(e,t,n,r){var i,s,o,u,a,f,l;if(r==null){r="..."}f="";s=-1;l=-1;a=Math.floor(e.length*.6);i=Math.floor(e.length*.35);e=e.trim();t=t-r.length;n=n-r.length;o=t;u=t;while(o<n&&o<e.length&&u>=0){if(/\W/.test(e.charAt(o))&&s<0){s=o}if(/\W/.test(e.charAt(u))&&l<0){l=u}if(l>=0&&s>=0){break}o++;u--}if(e.length<t){return e}if(s>0){if(s<a){if(l<n&&l>0){f=e.substr(0,l)+r}else if(s<i){f=e.substr(0,t)+r}else{f=e.substr(0,s)+r}}else{f=e.substr(0,s)+r}}else if(l>0){if(l<n){f=e.substr(0,l)+r}else{f=e.substr(0,t)+r}}else{if(e.length>t&&e.length<n){f=e}else{f=e.substr(0,t)+r}}return f};HSF.prototype.getCharWidthMax=function(e,t,n){var r;t=t||"Tahoma";e=e||11;n=n||"m";if(!window.charWidth){window.charWidth={}}if(!(t in window.charWidth)){window.charWidth[t]={}}if(!(e in window.charWidth[t])){r=this.GBI("charEl");if(!r){r=this.createElement("#charEl",{innerHTML:n},document.body)}r.style.fontFamily=t;r.style.fontSize=e+"px";window.charWidth[t][e]=r.offsetWidth}return window.charWidth[t][e]};HSF.prototype.log=function(e,t){var n,r,i;if(t==null){t="log"}i=((new Date).getTime()-this._startLogDate).toString();this._stackLog[this._stackLog.length]={time:i,mess:""+t+": "+e};if("console"in window){n=window.console;switch(t){case"log":r=n.log;break;case"info":if("info"in n){r=n.info}else{i="INFO: "+i}break;case"err":case"error":if("error"in n){r=n.error}else{i="ERROR: "+i}break;case"warn":case"warning":if("warn"in n){r=n.warn}else{i="WARN: "+i}break;case"debug":if("debug"in n){r=n.debug}else{i="DEBUG: "+i}break;default:i=""+t+": "+i}if(!r){r=n.log}if(typeof r!=="function"){r(i+(": "+e))}else{r.call(n,i+(": "+e))}}else if(this._debug){alert(""+t+": "+i+": "+e)}return true};HSF.prototype.time=function(e,t){var n,r;this.log("start time");n=(new Date).getTime();e();this.log("finish time at "+((new Date).getTime()-n)+"ms");if(t===true){this.log("render start");n=(new Date).getTime();r=document.body.offsetWidth;this.log("finish render at "+((new Date).getTime()-n)+"ms")}};HSF.prototype.printLog=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p;n=8;t='<table id="printLog" cellpadding="0" cellspacing="0" style="border:0;"><tr><td valign="top" align="left" style="width:40px">';u="";i='<ul style="font-family:monospace;list-style:none outside none;margin:0;padding:0;">';e=0;h=this._stackLog;for(f=0,c=h.length;f<c;f++){s=h[f];o=""+s.time;for(r=l=n,p=o.length;n<=p?l<=p:l>=p;r=n<=p?++l:--l){o+="."}u+="<div id='dotLogPoint"+s+"' onmouseover=\""+this.getThis()+'.selectLogPoint(this);" onmouseout="'+this.getThis()+".unselectLogPoint(this);\" style='position:absolute;right:-4px;top:"+(this.toInt(s)-4)+"px;border:1px solid #339;border-radius:3px;width:5px;height:5px;cursor:pointer;z-index:1'></div>";i+="<li id='textLogPoint"+s+"' onmouseover=\""+this.getThis()+'.selectLogPoint(this);" onmouseout="'+this.getThis()+".unselectLogPoint(this);\" style='cursor:pointer;text-align:left;'><b>"+o+":</b> "+s.mess+"</li>";e+=20}i+="</ul>";a="<div style='position:relative;border-right:1px solid #339;width:20px;height:"+parseInt(s*100)+"px'>";t+=a+u+("</div></td><td>"+i+"</td></tr></table>");this.createBubble(t,600,50,{resize:true});return true};HSF.prototype.selectLogPoint=function(e){var t,n;t=e.id.match(/(.*)LogPoint(.*)/);if(!t){return false}if(t[1]==="dot"){n=this.GBI("textLogPoint"+t[2]);n.style.textDecoration="underline";e.style.backgroundColor="#f0f";e.style.borderColor="#f0f";e.style.zIndex=10}else{n=this.GBI("dotLogPoint"+t[2]);n.style.backgroundColor="#f0f";n.style.borderColor="#f0f";n.style.zIndex=10;e.style.textDecoration="underline"}return true};HSF.prototype.unselectLogPoint=function(e){var t,n;t=e.id.match(/(.*)LogPoint(.*)/);if(!t){return false}if(t[1]==="dot"){n=this.GBI("textLogPoint"+t[2]);n.style.textDecoration="none";e.style.backgroundColor="transparent";e.style.borderColor="#339";e.style.zIndex=1}else{n=this.GBI("dotLogPoint"+t[2]);n.style.backgroundColor="transparent";n.style.borderColor="#339";n.style.zIndex=1;e.style.textDecoration="none"}return true};HSF.prototype.parseJSON=function(text){if("JSON"in window&&"parse"in JSON){return JSON.parse(text)}return!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(text.replace(/"(\\.|[^"\\])*"/g,""))&&eval("("+text+")")};HSF.prototype.varToJSON=function(e){var t,n,r,i,s,o,u;if("JSON"in window&&"stringify"in JSON){return JSON.stringify(e)}o="";r="";switch(typeof e){case"string":return'"'+e+'"';case"number":case"boolean":return e.toString();case"object":if(e instanceof Array){o="[";n=0;for(i=0,s=e.length;i<s;i++){t=e[i];switch(typeof t){case"string":o+=r+'"'+t+'"';break;case"boolean":case"number":o+=r+t;break;case"object":o+=r+varToJSON(t)}r=",";n++}o+="]"}else if(e===null){return"null"}else{o="{";for(n in e){if(!__hasProp.call(e,n))continue;if(!e.hasOwnProperty(n)){continue}u=null;switch(typeof e[n]){case"string":u='"'+e[n]+'"';break;case"boolean":case"number":u=e[n];break;case"object":u=varToJSON(e[n])}if(u!=null){o+=r+'"'+n+'":'+u;r=","}}o+="}"}}return o};HSF.prototype.outerHTML=function(e){return e.outerHTML||"XMLSerializer"in window&&(new XMLSerializer).serializeToString(e)||false};HSF.prototype.zeroFill=function(e,t){t-=e.toString().length;if(t>0){return(new Array(t+(/\./.test(e)?2:1))).join("0")+e}return e+""};HSF.prototype.blockEvent=function(e){if(e==null){e=window.event}if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}if(e.preventDefault){return e.preventDefault()}else{return e.returnValue=false}};HSF.prototype.numberInputReplace=function(e,t){var n,r,i,s,o,u,a,l,c,h,p=this;if(t==null){t={}}h=e.offsetWidth;i=e.offsetHeight;a=e.parentNode;if(e.tagName.toLowerCase()!=="input"){return false}s=f.createElement(".inputWrapperReplase",{style:{width:""+h+"px",height:""+i+"px",position:"relative",display:"inline-block"}});a.replaceChild(s,e);this.appendChild(s,e);this.appendChild(s,"<div class='nup' style='position: absolute; top: 0; right: 0; cursor: pointer; width: 10px; height: 50%;'></div><div class='ndn' style='position: absolute; bottom: 0; right: 0; cursor: pointer; width: 10px; height: 50%;'></div>");e.style.width=h-12+"px";e.style.height=i-2+"px";if(!("step"in t)){t.step=1}l=function(){var n;n=p.toInt(e.value);if("max"in t&&t.max<n+t.step){e.value=t.max}else{e.value=n+t.step}return true};r=function(){var n;n=p.toInt(e.value);if("min"in t&&t.min>n-t.step){e.value=t.min}else{e.value=n-t.step}return true};n=function(){var n;n=p.toInt(e.value);if("max"in t&&t.max<n){e.value=t.max}else if("min"in t&&t.min>n){e.value=t.min}return true};u=this.GBC("nup",s)[0];o=this.GBC("ndn",s)[0];u.onclick=function(e){if(e==null){e=window.event}return l()};o.onclick=function(e){if(e==null){e=window.event}return r()};if(__indexOf.call(u,"ondblclick")>=0){u.ondblclick=o.ondblclick=function(){return true}}c=function(e){var t,n,i;if(e==null){e=window.event}n=0;if("wheelDelta"in e){n=e.wheelDelta/120}else{if("detail"in e){n=-e.detail/3}}for(t=i=n;n<=0?i<=0:i>=0;t=n<=0?++i:--i){if(t>0){l()}else if(t<0){r()}}if(e.preventDefault){e.preventDefault()}e.returnValue=false;p.blockEvent(e);return false};if("addEventListener"in e){e.addEventListener("DOMMouseScroll",c,false)}e.onmousewheel=c;this.addEvent(e,"change",n);return true};HSF.prototype.keyListener=function(e,t,n,r,i){var s,o;if(n==null){n=false}if(r==null){r=false}if(i==null){i=false}if(typeof t!=="function"){return false}o=null;if(isNaN(e)||e.toString().length===1){s=e in this._keyMap?this._keyMap[e]:e}else{s=e}if(s===13||s===10){s=13;o=10}else if(0<=e&&e<=9){o=this._keyMap["numpad"+e]}if(this.browser().name==="opera"){if(96<=s&&s<=105){s-=48}else{switch(s){case 91:s=219;break;case 93:s=0;break;case 106:s=42;break;case 107:s=43;break;case 109:s=45;break;case 110:s=78;break;case 111:s=47;break;case 186:s=59;break;case 187:s=61;break;case 189:s=109}}}else if(this.browser().name==="mozilla"){switch(s){case 186:s=59;break;case 187:s=107;break;case 189:s=109}}if(!(s in this._keyListMap)){this._keyListMap[s]=[]}this._keyListMap[s].push({func:t,ctrl:n,shift:r,alt:i});if(o){if(!(o in this._keyListMap)){this._keyListMap[o]=[]}this._keyListMap[o].push({func:t,ctrl:n,shift:r,alt:i})}return true};HSF.prototype.onDomReady=function(e){var t;t=this._funcDomReady;if(typeof this._funcDomReady!=="function"){this._funcDomReady=e}else{this._funcDomReady=function(){t();return e()}}return true};HSF.prototype.initOnDomReady=function(){if(this._ready){return}this._ready=true;if(this._funcDomReady){return this._funcDomReady()}};HSF.prototype.prepareOnDocumentReady=function(){var e,t=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){return t.initOnDomReady()},false)}else if(this.browser().name==="ie"){}else if(/WebKit/i.test(navigator.userAgent)){e=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(e);return this.initOnDomReady()}},10)}else{window.onload=function(){return t.initOnDomReady()}}return true};HSF.prototype.setDrag=function(e,t){var n,r,i,s,o,u,a,l,c=this;n=function(){return true};l=function(e,t){if(t){if(r){return event.clientY+document.body.scrollTop}else{return e.pageY}}else{if(r){return event.clientX+document.body.scrollTop}else{return e.pageX}}};a=0;u=0;o=0;s=0;r=this.browser().name==="msie"?1:0;t={initThis:t.initThis||false,onDragStart:t.onDragStart||n,onDragEnd:t.onDragEnd||n,onDragCheckX:t.onDragCheckX||n,onDragCheckY:t.onDragCheckY||n,onDragOver:t.onDragOver||false,onDragOut:t.onDragOut||false,onDrop:t.onDrop||false,dragOverCheck:false,dropCheck:false};if(t.onDragOver||t.onDragOut){t.dragOverCheck=true;this.setMem(e,"oldDisplay",e.style.display);i=null}if(t.onDrop){t.dropCheck=true}e.ondragstart=function(){return false};e.onselectstart=function(){return false};e.onmousedown=function(n){var r,h,p,d,v,m;n=n||window.event;if(t.onDragStart(e,n,t)===false){return false}c.setTempStyle(document.body,{cursor:f.getStyle(e,"cursor")},"DragStyle");d=n.target||n.srcElement;d.ondragstart=function(){return false};if(t.dragOverCheck){e.style.display="none";i=document.elementFromPoint(n.pageX||n.clientX,n.pageY||n.clientY);e.style.display=c.getMem(e,"oldDisplay")}r=c.getStyle(e,"position");if(r!=="absolute"&&r!=="relative"){e.style.position="relative"}a=l(n,1);u=l(n,0);if(r==="relative"){p=0;h=0}else{p=e.offsetTop;h=e.offsetLeft}o=c.getStyle(e,"top");o=o==="auto"||o===""?p:c.toInt(o);s=c.getStyle(e,"left");s=s==="auto"||s===""?h:c.toInt(s);document.onmousemove=function(n){var r,f,h;if(!n){n=window.event}h=l(n,1)-a+o;f=l(n,0)-u+s;if(t.onDragCheckY(e,h,n)){e.style.top=h+"px"}if(t.onDragCheckX(e,f,n)){e.style.left=f+"px"}if(t.dragOverCheck){e.style.display="none";r=document.elementFromPoint(n.pageX||n.clientX,n.pageY||n.clientY);e.style.display=c.getMem(e,"oldDisplay");if(i!==r){if(t.onDragOut){t.onDragOut(i,n)}if(t.onDragOver){t.onDragOver(r,n)}i=r}}};try{m=f.addEvent(document,"touchmove",document.onmousemove)}catch(g){}document.onmouseup=function(n){var r;if(!n){n=window.event}document.onmousemove=null;c.retTempStyle(document.body,"DragStyle");if(typeof m==="function"){m()}if(t.dropCheck){e.style.display="none";r=document.elementFromPoint(n.pageX||n.clientX,n.pageY||n.clientY);e.style.display=c.getMem(e,"oldDisplay");t.onDrop(r,n)}t.onDragEnd(e,n);document.onmouseup=null;if(typeof v==="function"){v()}return true};try{v=f.addEvent(document,"touchend",document.onmouseup)}catch(g){}return false};try{f.addEvent(e,"touchstart",e.onmousedown)}catch(h){}return this};HSF.prototype.dateToFormat=function(e,t){var n,r,i;n=false;if(/%%/.test(t)){n=true;t=t.replace(/%%/g,"'%'")}if(/%d/.test(t)){r=e.getDate();if(r<10){r="0"+r}t=t.replace(/%d/g,r)}if(/%D/.test(t)){r=e.getDate();t=t.replace(/%D/g,r)}if(/%w/.test(t)){r=e.getDay()+1;t=t.replace(/%w/g,r)}if(/%m/.test(t)){r=e.getMonth()+1;if(r<10){r="0"+r}t=t.replace(/%m/g,r)}if(/%M/.test(t)){r=e.getMonth()+1;t=t.replace(/%M/g,r)}if(/%y/.test(t)){r=e.getFullYear();t=t.replace(/%y/g,r)}if(/%Y/.test(t)){r=e.getFullYear().substr(2,2);t=t.replace(/%Y/g,r)}if(/%a/.test(t)){r=e.getHours();r=r>12?"pm":"am";t=t.replace(/%a/g,r)}if(/%A/.test(t)){r=e.getHours();r=r>12?"PM":"AM";t=t.replace(/%A/g,r)}if(/%c/.test(t)){r=e.toISOString();t=t.replace(/%c/g,r)}if(/%l/.test(t)){r=this._dateNames.weekShort[e.getDay()];t=t.replace(/%l/g,r)}if(/%L/.test(t)){r=this._dateNames.weekFull[e.getDay()];t=t.replace(/%L/g,r)}if(/%f/.test(t)){r=this._dateNames.monthShort[e.getMonth()];t=t.replace(/%f/g,r)}if(/%F/.test(t)){r=this._dateNames.monthFull[e.getMonth()];t=t.replace(/%F/g,r)}if(/%g/.test(t)){r=e.getHours();if(r>12){r-=12}t=t.replace(/%g/g,r)}if(/%G/.test(t)){r=e.getHours();if(r>12){r-=12}if(r<10){r="0"+r}t=t.replace(/%G/g,r)}if(/%h/.test(t)){r=e.getHours();if(r<10){r="0"+r}t=t.replace(/%h/g,r)}if(/%H/.test(t)){r=e.getHours();t=t.replace(/%H/g,r)}if(/%i/.test(t)){r=e.getMinutes();if(r<10){r="0"+r}t=t.replace(/%i/g,r)}if(/%I/.test(t)){r=e.getMinutes();t=t.replace(/%I/g,r)}if(/%s/.test(t)){r=e.getSeconds();if(r<10){r="0"+r}t=t.replace(/%s/g,r)}if(/%S/.test(t)){r=e.getSeconds();t=t.replace(/%S/g,r)}if(/%p/.test(t)){r=e.getMilliseconds();if(r<10){r="00"+r}else if(10<=r&&r<100){r="0"+r}t=t.replace(/%p/g,r)}if(/%P/.test(t)){r=e.getMilliseconds();t=t.replace(/%P/g,r)}if(/%r/.test(t)){r=this.dateToFormat(e,"%l, %d %f %y %h:%i:%s %O");t=t.replace(/%r/g,r)}if(/%O/.test(t)){r=e.toString();r=r.substr(r.indexOf("+"));t=t.replace(/%O/g,r)}if(/%u/.test(t)){r=e.getTime();r=(r-r%1e3)/1e3;t=t.replace(/%u/g,r)}if(/%U/.test(t)){r=e.getTime();t=t.replace(/%U/g,r)}if(/%z/.test(t)){r=e.getTime();i=new Date(r);i.setMonth(0);i.setDate(1);i.setHours(0);i.setMinutes(0);i.setSeconds(0);i.setMilliseconds(0);r=Math.floor((r-i.getTime())/864e5);t=t.replace(/%z/g,r)}if(n===true){t=t.replace(/'%'/g,"%")}return t};HSF.prototype.insertAfter=function(e,t){var n,r;r=t.parentNode;n=t.nextSibling;if(n){r.insertBefore(e,n)}else{r.appendChild(e)}return this};HSF.prototype.insertBefore=function(e,t){t.parentNode.insertBefore(e,t);return this};HSF.prototype.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};HSF.prototype.qsa=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v;if(t==null){t=document}if("querySelectorAll"in t){return[].take(t.querySelectorAll(e))}if("jQuery"in window){return jQuery(e,t).get()}a=document.createStyleSheet();u=e.replace(/\[for\b/gi,"[htmlFor").split(",");window.hsfSelectorCollection=[];if(this._scriptPath===""){v=this.GBT("script");for(c=0,p=v.length;c<p;c++){f=v[c];if(/hsf\.(min\.|dev\.)?js$/.test(f.src||"")){this._scriptPath=f.src.replace(/hsf\.(min\.|dev\.)?js$/,"");break}}if(this._scriptPath===""){this._scriptPath=false}}if(this._scriptPath===false){n=t.all;i=[];s=u.length;while(s--){a.addRule(u[s],"k:v");o=n.length;while(o--){n[o].currentStyle.k&&i.push(n[o])}a.removeRule(0)}return i}else{r=this._scriptPath+"/ca.htc";for(h=0,d=u.length;h<d;h++){l=u[h];a.addRule(l,"behavior: url("+r+")");a.removeRule(0)}a.owningElement.parentNode.removeChild(a.owningElement);return window.hsfSelectorCollection}};HSF.prototype.getScrollBarWidth=function(){var e,t,n,r;if(this._scrollBarWidth<0){this.appendChild(document.body,"<div id='__HSFscrollbar' style='position:absolute;top:0;left:0;visibility:hidden;width:200px;height:150px;overflow:hidden;'><p style='width:100%;height:200px'></p></div>");t=f.GBI("__HSFscrollbar");e=t.children[0];n=e.offsetWidth;t.style.overflow="scroll";r=e.offsetWidth;if(n===r){r=t.clientWidth}document.body.removeChild(t);this._scrollBarWidth=n-r}return this._scrollBarWidth};HSF.prototype.merge=function(e,t){var n,r;for(r in t){if(!__hasProp.call(t,r))continue;try{if(t[r].constructor===Object){e[r]=this.merge(e[r],t[r])}else{e[r]=t[r]}}catch(i){n=i;e[r]=t[r]}}return e};HSF.prototype.formToData=function(e,t){var n,r,i,s,o,u,a;s="";i=t?"?":"";r=function(e){var t;t=i+encodeURI(e.name)+"="+encodeURI(e.value);i="&";return t};if(e.elements.length===0){return false}a=e.elements;for(o=0,u=a.length;o<u;o++){n=a[o];switch(n.type){case"select-one":case"select":case"password":case"textarea":case"hidden":case"text":s+=r(n);break;case"radio":case"checkbox":if(n.checked){s+=r(n)}break}}return s};HSF.prototype.createStyleSheet=function(){var e;if(this._systemStyleSheet!=null){return this}this._CSSCache={index:{},rules:[]};if(document.styleSheets.length>30){this._systemStyleSheet=e;this.updateStyleSheetIndex()}else{if("createStyleSheet"in document){e=document.createStyleSheet();this.appendChild(document.body,e.owningElement)}else{e=f.createElement("style",{},document.body).sheet}this._systemStyleSheet=e}return this};HSF.prototype.updateStyleSheetIndex=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m;f=[];n={};r=-1;u=this._systemStyleSheet.cssRules||this._systemStyleSheet.rules;for(l=0,p=u.length;l<p;l++){o=u[l];if(!("style"in o)){continue}e=o.style.cssText;if(e.indexOf("{")>=0&&e.charAt(e.length-1)==="}"){r=1}else{r=0}break}for(t=c=0,d=u.length;c<d;t=++c){o=u[t];a=o.selectorText;if(!("style"in o)){n[a]=t;f[t]={};continue}n[a.replace(/(^| |\+|>|~|,)[A-Z]+/g,function(e){return e.toLowerCase()})]=t;if(!(a in f)){f[t]={}}e=o.style.cssText;if(r===1){e=e.substr(0,e.length-1).substr(e.indexOf("{")+1).trim()}m=e.split(";");for(h=0,v=m.length;h<v;h++){s=m[h];i=s.indexOf(":");if(i===-1){continue}f[t][s.substr(0,i).trim().toLowerCase()]=s.substring(i+1,s.length).trim()}this._CSSCache.rules=f;this._CSSCache.index=n}return this};HSF.prototype.setCSS=function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;p=e.split(",");a={};switch(typeof t){case"string":if(n==null){this.log("setCSS: value не задана","error");return this}t=t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});a[t]=n;break;case"object":for(o in t){if(!__hasProp.call(t,o))continue;n=t[o];o=o.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});a[o]=n}break;default:this.log("setCSS: Неизвестный тип prop","error");return this}if(this._CSSCache==null){this.createStyleSheet()}c=this._systemStyleSheet.cssRules||this._systemStyleSheet.rules;f=false;if(this._CSSCache.rules.length!==c.length){f=true}else{for(m=0,y=p.length;m<y;m++){h=p[m];h=h.trim();if(h in this._CSSCache.index){l=c[this._CSSCache.index[h]];if(l.selectorText.replace(/(^| |\+|>|~|,)[A-Z]+/g,function(e){return e.toLowerCase()})!==h){f=true;break}}}}if(f){this.updateStyleSheetIndex();this.log("index is crash","warn")}d="";for(g=0,b=p.length;g<b;g++){h=p[g];h=h.trim();i=this._CSSCache.index[h];if(i==null){s=this._CSSCache.rules.length;if(this._systemStyleSheet.addRule){this._systemStyleSheet.addRule(h,"abc: dev;",s)}else{this._systemStyleSheet.insertRule(""+h+" {}",s)}this._CSSCache.rules[s]={};this._CSSCache.index[h]=s;i=s}l=c[i];r=this._CSSCache.rules[i];for(o in r){if(!__hasProp.call(r,o))continue;v=r[o];if(o in a){u=a[o];if(u!==null){d+=""+o+": "+u+"; ";r[o]=u;delete a[o]}else{delete r[o]}}else{d+=""+o+": "+v+"; "}}for(o in a){if(!__hasProp.call(a,o))continue;v=a[o];d+=""+o+": "+v+"; ";r[o]=v}l.style.cssText=d}return this};HSF.prototype.remCSS=function(e){var t,n,r,i,s,o,u,a,f,l;if(this._systemStyleSheet==null){return this}o=e.split(",");i=this._systemStyleSheet.cssRules||this._systemStyleSheet.rules;n=false;if(this._CSSCache.rules.length!==i.length){n=true}else{for(u=0,f=o.length;u<f;u++){s=o[u];if(s in this._CSSCache.index){r=i[this._CSSCache.index[s]];if(r.selectorText.replace(/(^| |\+|>|~|,)[A-Z]+/g,function(e){return e.toLowerCase()})!==s){n=true;break}}}}if(n){this.updateStyleSheetIndex();this.log("index is crash","warn")}for(a=0,l=o.length;a<l;a++){s=o[a];t=this._CSSCache.index[s];if(t==null){continue}if("deleteRule"in this._systemStyleSheet){this._systemStyleSheet.deleteRule(t)}else{this._systemStyleSheet.removeRule(t)}this._CSSCache.rules.del(t);delete this._CSSCache.index[s]}return this};return HSF}();if("localStorage"in window){HSF.prototype.setLS=function(e,t){var n;try{localStorage.setItem(e,t)}catch(r){n=r;return n}return true};HSF.prototype.getLS=function(e){return localStorage.getItem(e)};HSF.prototype.delLS=function(e){return localStorage.removeItem(e)};HSF.prototype.clearLS=function(){return localStorage.clear()}}else if(HSF.prototype.browser().name==="msie"){HSF.prototype._initIeStorage=function(){this._storage=this.createElement("div#__storageElement",{style:{display:"none"}},document.body);if(!this._storage.addBehavior){this.log("Нет поддержки userDara")}else{this._storage.addBehavior("#default#userData");this._storage.load("hsf")}return this};HSF.prototype.setLS=function(e,t){this._storage.setAttribute(e,t);this._storage.save("hsf");return this};HSF.prototype.getLS=function(e){return this._storage.getAttribute(e)};HSF.prototype.delLS=function(e){this._storage.removeAttribute(e);this._storage.save("hsf");return this};HSF.prototype.clearLS=function(){var e,t,n,r;r=this._storage.XMLDocument.documentElement.attributes;for(t=0,n=r.length;t<n;t++){e=r[t];this.delLS(e.name)}return this}}else{HSF.prototype.setLS=function(){return this};HSF.prototype.getLS=function(){return null};HSF.prototype.delLS=function(){return this};HSF.prototype.clearLS=function(){return this}}window.f=new HSF({counter:false})}).call(this)